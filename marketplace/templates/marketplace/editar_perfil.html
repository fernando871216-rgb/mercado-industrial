{% extends 'marketplace/base.html' %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-10 col-lg-8">
            <div class="card shadow-lg border-0" style="border-radius: 15px;">
                <div class="card-header bg-dark text-white py-4 text-center" style="border-radius: 15px 15px 0 0;">
                    <h2 class="h4 mb-0"><i class="fas fa-user-circle me-2"></i>Configuración de Perfil</h2>
                </div>
                
                <div class="card-body p-4 p-md-5">
                    {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-success border-0 shadow-sm mb-4">{{ message }}</div>
                        {% endfor %}
                    {% endif %}

                    <form method="POST">
                        {% csrf_token %}
                        
                        <div class="mb-4">
                            <h5 class="text-primary border-bottom pb-2 mb-3"><i class="fas fa-id-card me-2"></i>Datos Personales</h5>
                            <div class="row g-3">
                                <div class="col-12 col-sm-6">
                                    <label class="form-label fw-bold small text-muted">Nombre(s)</label>
                                    {{ u_form.first_name }}
                                </div>
                                <div class="col-12 col-sm-6">
                                    <label class="form-label fw-bold small text-muted">Apellidos</label>
                                    {{ u_form.last_name }}
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold small text-muted">Correo Electrónico</label>
                                    {{ u_form.email }}
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="text-primary border-bottom pb-2 mb-3"><i class="fas fa-wallet me-2"></i>Información de Vendedor y Pagos</h5>
                            <div class="row g-3">
                                <div class="col-12 col-sm-6">
                                    <label class="form-label fw-bold small text-muted">Teléfono</label>
                                    {{ p_form.phone }}
                                </div>
                                <div class="col-12 col-sm-6">
                                    <label class="form-label fw-bold small text-muted">Banco</label>
                                    {{ p_form.banco }}
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold small text-muted">CLABE Interbancaria (18 dígitos)</label>
                                    {{ p_form.clabe }}
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold small text-muted">Nombre del Beneficiario</label>
                                    {{ p_form.beneficiario }}
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold small text-muted">Dirección Completa (Recolección)</label>
                                    {{ p_form.address }}
                                </div>
                            </div>
                        </div>

                        <div class="d-grid gap-2 pt-3">
                            <button type="submit" class="btn btn-primary btn-lg shadow">
                                <i class="fas fa-save me-2"></i>Actualizar Mi Información
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .form-control { border-radius: 8px; padding: 10px; border: 1px solid #ced4da; }
    .form-control:focus { box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.1); border-color: #0d6efd; }
    @media (max-width: 576px) {
        .card-body { p-3; }
        .btn-lg { font-size: 1rem; }
    }
</style>
{% endblock %}
