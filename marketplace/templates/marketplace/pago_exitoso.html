{% extends 'marketplace/base.html' %}

{% block content %}
<div class="container" style="max-width: 700px; margin: 60px auto; text-align: center; font-family: 'Segoe UI', sans-serif;">
    
    <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); border-top: 8px solid #2ecc71;">
        
        <div style="background: #2ecc71; width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
            <i class="fas fa-check" style="color: white; font-size: 2rem;"></i>
        </div>

        <h2 style="color: #2c3e50; margin-bottom: 10px;">¡Intención de Compra Registrada!</h2>
        <p style="color: #7f8c8d; line-height: 1.5; margin-bottom: 30px;">
            El equipo ha sido reservado para ti. Para finalizar la compra y acordar el pago, ponte en contacto con el vendedor ahora mismo.
        </p>

        {% if producto %}
        <div style="background: #f8f9fa; border: 1px solid #e9ecef; padding: 25px; border-radius: 15px; margin-bottom: 30px;">
            <h4 style="margin: 0 0 15px 0; color: #2c3e50; font-size: 1.1rem;">Datos del Vendedor</h4>
            
            <div style="font-size: 1.3rem; font-weight: bold; color: #2c3e50; margin-bottom: 20px;">
                <i class="fas fa-phone-alt" style="color: #3498db; margin-right: 10px;"></i>
                {% if producto.user.profile.phone %}
                    {{ producto.user.profile.phone }}
                {% else %}
                    <span style="color: #e74c3c; font-size: 1rem;">Teléfono no registrado</span>
                {% endif %}
            </div>

            {% if producto.user.profile.phone %}
            <a href="https://wa.me/{{ producto.user.profile.phone }}?text=Hola {{ producto.user.username }}, acabo de registrar mi intención de compra por: {{ producto.title }}. ¿Cómo procedemos?" 
               target="_blank"
               style="display: inline-block; background: #25D366; color: white; padding: 15px 30px; border-radius: 10px; text-decoration: none; font-weight: bold; font-size: 1.1rem; transition: 0.3s; box-shadow: 0 4px 12px rgba(37, 211, 102, 0.2);">
                <i class="fab fa-whatsapp"></i> Contactar por WhatsApp
            </a>
            {% endif %}
            
            <p style="margin-top: 15px; font-size: 0.9rem; color: #95a5a6;">
                Vendedor: <strong>{{ producto.user.username }}</strong>
            </p>
        </div>
        {% endif %}

        <div style="display: flex; gap: 20px; justify-content: center;">
            <a href="{% url 'mis_compras' %}" style="color: #3498db; text-decoration: none; font-weight: 600;">Ver mis compras</a>
            <a href="{% url 'home' %}" style="color: #7f8c8d; text-decoration: none; font-weight: 600;">Volver al inicio</a>
        </div>
    </div>
</div>
{% endblock %}
