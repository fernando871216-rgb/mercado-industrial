{% extends 'marketplace/base.html' %}

{% block content %}
<div class="container" style="max-width: 800px; margin: 60px auto; text-align: center; font-family: 'Segoe UI', sans-serif;">
    
    <div style="background: white; padding: 50px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.05); border: 1px solid #f0f0f0;">
        
        <div style="background: #2ecc71; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 30px;">
            <i class="fas fa-check" style="color: white; font-size: 2rem;"></i>
        </div>

        <h1 style="color: #2c3e50; font-size: 2.2rem; margin-bottom: 15px;">¡Pago Procesado Exitosamente!</h1>
        
        <p style="color: #7f8c8d; font-size: 1.1rem; line-height: 1.6; margin-bottom: 40px; max-width: 500px; margin-left: auto; margin-right: auto;">
            Tu intención de compra ha sido registrada. Para acelerar el proceso, avísale al vendedor por WhatsApp.
        </p>

        {% if producto %}
        <div style="background: #f8f9fa; border-radius: 15px; padding: 30px; margin-bottom: 30px;">
            <div style="font-size: 1.4rem; font-weight: bold; color: #2c3e50; margin-bottom: 15px;">
                <i class="fas fa-phone-alt" style="color: #3498db; margin-right: 10px;"></i>
                {% if producto.user.profile.phone %}
                    {{ producto.user.profile.phone }}
                {% else %}
                    <span style="color: #e74c3c;">Teléfono no registrado</span>
                {% endif %}
            </div>

            {% if producto.user.profile.phone %}
            <a href="https://wa.me/{{ producto.user.profile.phone }}?text=Hola {{ producto.user.username }}, acabo de registrar mi intención de compra por: {{ producto.title }}. ¿Cómo procedemos?" 
               target="_blank"
               style="display: flex; align-items: center; justify-content: center; gap: 10px; background: #2ecc71; color: white; padding: 16px 30px; border-radius: 12px; text-decoration: none; font-weight: bold; font-size: 1.2rem; transition: 0.3s; box-shadow: 0 4px 15px rgba(46, 204, 113, 0.2);">
                <i class="fab fa-whatsapp" style="font-size: 1.5rem;"></i> Notificar al Vendedor
            </a>
            {% endif %}
            
            <p style="margin-top: 20px; font-size: 0.9rem; color: #95a5a6;">
                Vendedor responsable: <strong>{{ producto.user.username|upper }}</strong>
            </p>
        </div>
        {% endif %}

        <a href="{% url 'home' %}" style="color: #3498db; text-decoration: none; font-weight: 600; font-size: 1rem;">
            Volver al inicio
        </a>
    </div>
    
    <div style="margin-top: 40px;">
        <p style="color: #bdc3c7; font-weight: bold; font-size: 1.1rem;">Mercado Industrial</p>
    </div>
</div>
{% endblock %}
